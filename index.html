import { motion } from "framer-motion";
import { useEffect, useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";

export default function Portfolio() {
  const [showStars, setShowStars] = useState(false);

  useEffect(() => {
    const timer = setTimeout(() => setShowStars(true), 3000);
    return () => clearTimeout(timer);
  }, []);

  return (
    <div className="relative min-h-screen bg-black text-white overflow-hidden">
      {/* Code Background */}
      <div className="absolute inset-0 z-0 animate-pulse opacity-20">
        <pre className="text-green-400 text-xs p-4">
{`for (let i=0; i<10; i++) {
   console.log("Hello, world!");
}`}        </pre>
      </div>

      {/* Nav */}
      <nav className="fixed top-0 left-0 w-full flex justify-between items-center p-4 bg-black/70 z-20">
        <h2 className="text-xl font-bold">Humza Hashmi</h2>
        <div className="flex gap-4">
          <Button variant="secondary" asChild>
            <a href="mailto:humza@example.com">Hire Me</a>
          </Button>
          <Button variant="secondary" asChild>
            <a href="/resume.pdf" target="_blank">Resume</a>
          </Button>
          <Button variant="secondary" asChild>
            <a href="https://linkedin.com/in/humza" target="_blank">LinkedIn</a>
          </Button>
        </div>
      </nav>

      {/* Hero Section */}
      <section className="flex flex-col items-center justify-center h-screen relative z-10">
        <motion.h1
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 2 }}
          className="text-6xl font-extrabold"
        >
          Humza Hashmi
        </motion.h1>

        {/* Shooting Star */}
        {showStars && (
          <motion.div
            initial={{ x: -200, y: -200, opacity: 0 }}
            animate={{ x: 300, y: 300, opacity: 1 }}
            transition={{ duration: 2 }}
            className="absolute top-20 left-10 w-1 h-1 bg-white rounded-full shadow-lg shadow-white"
          ></motion.div>
        )}

        <p className="mt-6 text-lg text-gray-300">
          4th Year Computer Engineering Student @ TMU | Software Specialist
        </p>
      </section>

      {/* Experience Section */}
      <section className="p-10 space-y-6 z-10 relative">
        <h2 className="text-3xl font-bold mb-6">Experience Roadmap</h2>
        {[
          { year: "Fall 2021", desc: "Started Computer Engineering at TMU" },
          { year: "Nov 2021", desc: "Ryerson Mini Hackathon" },
          { year: "2022", desc: "Joined Formula Racing Team as Software/Electrical Member" },
          { year: "2023-2024", desc: "Completed multiple internships" },
        ].map((item, i) => (
          <motion.div
            key={i}
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ delay: i * 0.5 }}
            viewport={{ once: true }}
          >
            <Card className="bg-gray-900 border border-gray-700">
              <CardContent className="p-4">
                <h3 className="text-xl font-semibold">{item.year}</h3>
                <p className="text-gray-400">{item.desc}</p>
              </CardContent>
            </Card>
          </motion.div>
        ))}
      </section>

      {/* Projects Section */}
      <section className="p-10 space-y-6 relative z-10">
        <h2 className="text-3xl font-bold mb-6">Projects</h2>
        {[
          { title: "Portfolio Website", desc: "Built with React & Tailwind" },
          { title: "Racing Telemetry System", desc: "For Formula Racing Team" },
          { title: "Hackathon Projects", desc: "Prototypes in 24-48 hours" },
        ].map((project, i) => (
          <motion.div
            key={i}
            initial={{ opacity: 0, scale: 0.8 }}
            whileInView={{ opacity: 1, scale: 1 }}
            transition={{ delay: i * 0.6 }}
            viewport={{ once: true }}
          >
            <Card className="bg-gray-900 border border-gray-700">
              <CardContent className="p-4">
                <h3 className="text-xl font-semibold">{project.title}</h3>
                <p className="text-gray-400">{project.desc}</p>
              </CardContent>
            </Card>
          </motion.div>
        ))}
      </section>
    </div>
  );
}
